<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>Cjkkkk</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Cjkkkk">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Cjkkkk">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Cjkkkk">
  
    <link rel="alternate" href="/atom.xml" title="Cjkkkk" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Cjkkkk</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post.md-how-https-works" class="article article-type-post.md" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/31/how-https-works/" class="article-date">
  <time datetime="2018-12-31T08:41:33.000Z" itemprop="datePublished">2018-12-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/31/how-https-works/">how-https-works</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="HTTPS是如何工作的-翻译"><a href="#HTTPS是如何工作的-翻译" class="headerlink" title="HTTPS是如何工作的[翻译]"></a>HTTPS是如何工作的[翻译]</h1><p><a href="https://robertheaton.com/2014/03/27/how-does-https-actually-work/" target="_blank" rel="noopener">原文链接</a><br>HTTPS is simply your standard HTTP protocol slathered with a generous layer of delicious SSL/TLS encryption goodness.<br>HTTPS其实只是具有SSL / TLS加密优势的标准HTTP协议<br>Unless something goes horribly wrong (and it can), it prevents people like the infamous Eve from viewing or modifying the requests that make up your browsing experience;<br>除非某些事情发生了非常严重的错误(这是有可能发生的),HTTPS协议能保护使用者免于遭受第三人(infamous eve)篡改或者监视你的浏览请求(http request)<br>it’s what keeps your passwords, communications and credit card details safe on the wire between your computer and the servers you want to send this data to.<br>HTTPS是使你的密码，通讯和信用卡信息在你的电脑与你想发送信息的服务器网线之间保持安全的东西。<br>Whilst the little green padlock and the letters “https” in your address bar don’t mean that there isn’t still ample rope for both you and the website you are viewing to hang yourselves elsewhere, they do at least help you communicate securely whilst you do so.<br>同时，在你浏览器地址栏上绿色的小锁和”https”的字样并不一定意味着没有办法欺骗你和你正在访问的网站，但HTTPS协议至少帮助你在与你访问的网站之间通信时能保持安全。</p>
<h2 id="1-What-is-HTTPS-and-what-does-it-do"><a href="#1-What-is-HTTPS-and-what-does-it-do" class="headerlink" title="1. What is HTTPS and what does it do?"></a>1. What is HTTPS and what does it do?</h2><h2 id="1-HTTPS-是什么以及它的功能"><a href="#1-HTTPS-是什么以及它的功能" class="headerlink" title="1. HTTPS 是什么以及它的功能"></a>1. HTTPS 是什么以及它的功能</h2><p>HTTPS takes the well-known and understood HTTP protocol, and simply layers a SSL/TLS (hereafter referred to simply as “SSL”) encryption layer on top of it. Servers and clients still speak exactly the same HTTP to each other, but over a secure SSL connection that encrypts and decrypts their requests and responses. The SSL layer has 2 main purposes:<br>HTTPS协议仍然使用众所周知的HTTP协议，只是简单地在其上层叠SSL / TLS（以下简称为“SSL”）加密层。服务器和客户端仍然使用HTTP互相交流，但是是通过一个SSL连接来加密解密通讯的请求与回应。<br>SSL层有两个主要的作用：<br>Verifying that you are talking directly to the server that you think you are talking to<br>Ensuring that only the server can read what you send it and only you can read what it sends back<br>验证你确实是在直接与你想要通讯的服务器通讯。<br>确保只有服务器能读取到你发送的信息，同时只有你能读取到服务器返回的信息。<br>The really, really clever part is that anyone can intercept every single one of the messages you exchange with a server, including the ones where you are agreeing on the key and encryption strategy to use, and still not be able to read any of the actual data you send.<br>这其中最聪明巧妙的部分就是即使所有人都可以拦截你与服务器通讯的每一个请求，甚至包括你与服务器交流使用的加密算法与密钥的请求，他们仍然无法知道你与服务器之间传递的真实数据(actual data)。(译者注:他们可以获取你与服务器的通信内容，却无法解密)</p>
<h2 id="2-How-an-SSL-connection-is-established"><a href="#2-How-an-SSL-connection-is-established" class="headerlink" title="2. How an SSL connection is established"></a>2. How an SSL connection is established</h2><h2 id="2-SSL连接是如何建立的"><a href="#2-SSL连接是如何建立的" class="headerlink" title="2. SSL连接是如何建立的"></a>2. SSL连接是如何建立的</h2><p>An SSL connection between a client and server is set up by a handshake, the goals of which are:<br>一个服务器与客户端的SSL连接是通过握手(handshake)建立的,握手的目的是:</p>
<ul>
<li>To satisfy the client that it is talking to the right server (and optionally visa versa)</li>
<li>确保客户端正在与正确的服务器通信（反之亦然）</li>
<li>For the parties to have agreed on a “cipher suite”, which includes which encryption algorithm they will use to exchange data</li>
<li>各方“密码套件”达成一致，其中包括他们将用于交换数据的加密算法</li>
<li>For the parties to have agreed on any necessary keys for this algorithm</li>
<li>双方就算法中使用到的任何密钥达成一致</li>
</ul>
<p>Once the connection is established, both parties can use the agreed algorithm and keys to securely send messages to each other. We will break the handshake up into 3 main phases - Hello, Certificate Exchange and Key Exchange.<br>一旦连接成功建立，双方可以使用事先同意使用的算法和密钥来安全的通讯。接下来，我们会将握手(handshake)分成3个主要的阶段 - 打招呼(hello)，证书(certificate)交换，密钥(key)交换<br>Hello - The handshake begins with the client sending a ClientHello message. This contains all the information the server needs in order to connect to the client via SSL, including the various cipher suites and maximum SSL version that it supports. The server responds with a ServerHello, which contains similar information required by the client, including a decision based on the client’s preferences about which cipher suite and version of SSL will be used.<br>打招呼(Hello) - 握手以客户端发送一个问好信息(ClientHello message)开始.这个信息包含了所有服务器需要知道以通过ssl连接客户端的内容，包括”密码套件”和支持的最大SSL版本号。服务器返回一个回复信息(ServerHello)，这其中包括与之前客户端发送的类似的，客户端需要的信息，其中包括关于是否支持客户端使用的SSL和”密码套件”的决定。<br>Certificate Exchange - Now that contact has been established, the server has to prove its identity to the client.<br>This is achieved using its SSL certificate, which is a very tiny bit like its passport. An SSL certificate contains various pieces of data, including the name of the owner, the property (eg. domain) it is attached to, the certificate’s public key, the digital signature and information about the certificate’s validity dates.<br>证书交换 - 现在连接建立之后，服务器必需向客户端证明自己的身份。这是通过使用使用一个非常小的类似于密码的一个称为SSL证书的东西。一个SSL证书包含许多的信息，其中有证书拥有者的名字，证书附着的属性(比如服务器域名),证书的公钥，数字签名以及证书合法时间的信息。<br>The client checks that it either implicitly trusts the certificate, or that it is verified and trusted by one of several Certificate Authorities (CAs) that it also implicitly trusts. Much more about this shortly. Note that the server is also allowed to require a certificate to prove the client’s identity, but this typically only happens in very sensitive applications.<br>客户端检查客户端是否隐式的信任这个证书或者这个证书验证成功且被客户端隐式信任的众多证书机构(CA)之一信任。很快就会有更多这方面的内容。请注意服务器端同样可以要求客户端提供证书来证明客户端的身份，但这一般只在非常机密的应用中发生。<br>Key Exchange - The encryption of the actual message data exchanged by the client and server will be done using a symmetric algorithm, the exact nature of which was already agreed during the Hello phase. A symmetric algorithm uses a single key for both encryption and decryption, in contrast to asymmetric algorithms that require a public/private key pair. Both parties need to agree on this single, symmetric key, a process that is accomplished securely using asymmetric encryption and the server’s public/private keys.<br>密钥交换 - 客户端与服务器交流的数据将会由对称加密算法加密，这在打招呼阶段已经被一致同意。一个对称加密算法使用一个单一的密钥用于加密以及解密，而不对称加密算法需要一对公钥/密钥。双方需要就使用的密钥达成一致，这个过程是通过使用服务器的公/私钥安全的完成的。</p>
<p>The client generates a random key to be used for the main, symmetric algorithm. It encrypts it using an algorithm also agreed upon during the Hello phase, and the server’s public key (found on its SSL certificate).<br>客户端生成随机密钥用于主要的对称加密算法。客户端用之前双方同意的加密算法以及服务器的公钥(SSL证书上附着)来加密随机生成的密钥<br>It sends this encrypted key to the server, where it is decrypted using the server’s private key, and the interesting parts of the handshake are complete.<br>客户端将加密过的密钥发送给服务器，服务器使用私钥进行解密，这样握手就完成了。<br>The parties are sufficiently happy that they are talking to the right person, and have secretly agreed on a key to symmetrically encrypt the data that they are about to send each other.<br>这样双方就可以确认自己确实与正确的对象通讯，并且就用于对称加密双方通信数据的公钥达成一致。<br>HTTP requests and responses can now be sent by forming a plaintext message and then encrypting and sending it. The other party is the only one who knows how to decrypt this message, and so Man In The Middle Attackers are unable to read or modify any requests that they may intercept.<br>现在HTTP请求与响应可以使用明文信息构造，并用密钥加密后进行发送。而对方则是唯一知道如何解密的人，这样一来”中间人攻击”就无法修改或者读取它拦截的信息。</p>
<h1 id="3-Certificates"><a href="#3-Certificates" class="headerlink" title="3. Certificates"></a>3. Certificates</h1><h1 id="3-证书"><a href="#3-证书" class="headerlink" title="3. 证书"></a>3. 证书</h1><h2 id="3-1-Trust"><a href="#3-1-Trust" class="headerlink" title="3.1 Trust"></a>3.1 Trust</h2><h2 id="3-1-信任"><a href="#3-1-信任" class="headerlink" title="3.1 信任"></a>3.1 信任</h2><p>At its most basic level, an SSL certificate is simply a text file, and anyone with a text editor can create one. You can in fact trivially create a certificate claiming that you are Google Inc. and that you control the domain gmail.com.<br>在最基本的层面上，SSL证书只是一个文本文件，所有拥有一个文本编辑器的人都可以创建它。实际上，你可以轻松创建一个声明你是Google Inc.并且你控制gmail.com这个域名的证书。<br>If this were the whole story then SSL would be a joke; identity verification would essentially be the client asking the server “are you Google?”, the server replying “er, yeah totally, here’s a piece of paper with ‘I am Google’ written on it” and the client saying “OK great, here’s all my data.” The magic that prevents this farce is in the digital signature, which allows a party to verify that another party’s piece of paper really is legit.<br>如果这是整个故事，那么SSL将是一个笑话; 身份验证基本上是客户端询问服务器“你是谷歌吗？”，服务器回答“呃，是的，这是一张纸，上面写着’我是谷歌’”，客户说“好的，这里是我所有的数据。“防止这场闹剧的神奇之处在于数字签名，它允许一方确认另一方的纸张确实是合法的。<br>There are 2 sensible reasons why you might trust a certificate:</p>
<p>If it’s on a list of certificates that you trust implicitly<br>If it’s able to prove that it is trusted by the controller of one of the certificates on the above list</p>
<p>您可能因为两个明智的理由信任证书：</p>
<p>如果它位于您隐含信任的证书列表中<br>如果它能够证明上述列表中的一个证书的控制器信任它</p>
<p>The first criteria is easy to check. Your browser has a pre-installed list of trusted SSL certificates from Certificate Authorities (CAs) that you can view, add and remove from.<br>第一个标准很容易检查。 您的浏览器具有预安装的证书颁发机构（CA）证书列表，您可以查看，添加和删除。<br>These certificates are controlled by a centralised group of (in theory, and generally in practice) extremely secure, reliable and trustworthy organisations like Symantec, Comodo and GoDaddy.<br>这些证书由一组（理论上和通常在实践中）极其安全，可靠和值得信赖的组织（如Symantec，Comodo和GoDaddy）控制。<br>If a server presents a certificate from that list then you know you can trust them.<br>如果服务器提供该列表中的证书，那么您知道可以信任它们。<br>The second criteria is much harder. It’s easy for a server to say “er yeah, my name is er, Microsoft, you trust Symantec and er, they totally trust me, so it’s all cool.” A somewhat smart client might then go and ask Symantec “I’ve got a Microsoft here who say that you trust them, is this true?” But even if Symantec say “yep, we know them, Microsoft are legit”, you still don’t know whether the server claiming to be Microsoft actually is Microsoft or something much worse. This is where digital signatures come in.<br>第二个标准要困难得多。 服务器很容易说”是的，我的名字是，微软，你信任Symantec，他们完全信任我，所以这没有任何问题。”一个有点聪明的客户端可能会去问Symantec：”我有一个微软在这里说你信任他们，这是真的吗？”但即使Symantec说:”是的，我们知道他们，微软是合法的”，你仍然不知道声称是微软的服务器实际上是微软还是其他东西更糟糕。这就是数字签名的用武之地。</p>
<h2 id="3-2-Digital-signatures"><a href="#3-2-Digital-signatures" class="headerlink" title="3.2 Digital signatures"></a>3.2 Digital signatures</h2><h2 id="3-2-数字签名"><a href="#3-2-数字签名" class="headerlink" title="3.2 数字签名"></a>3.2 数字签名</h2><p>As already noted, SSL certificates have an associated public/private key pair.<br>如前所述，SSL证书具有与其关联的公钥/私钥对。<br>The public key is distributed as part of the certificate, and the private key is kept incredibly safely guarded. This pair of asymmetric keys is used in the SSL handshake to exchange a further key for both parties to symmetrically encrypt and decrypt data.<br>公钥作为证书的一部分进行分发，而私钥被保密得非常安全。 这对非对称密钥用于SSL握手，以便为双方交换另一密钥以对称地加密和解密数据。<br>The client uses the server’s public key to encrypt the symmetric key and send it securely to the server, and the server uses its private key to decrypt it.<br>客户端使用服务器的公钥加密对称密钥并将其安全地发送到服务器，服务器使用其私钥对其进行解密。<br>Anyone can encrypt using the public key, but only the server can decrypt using the private key.<br>任何人都可以使用公钥加密，但只有服务器可以使用私钥解密。<br>The opposite is true for a digital signature. A certificate can be “signed” by another authority, whereby the authority effectively goes on record as saying “we have verified that the controller of this certificate also controls the property (domain) listed on the certificate”.<br>数字签名的情况恰恰相反。 证书可以由另一个机构”签名”，由此权威机构有效地记录为”我们已经验证该证书的控制者还控制证书上列出的属性（域名）。<br>In this case the authority uses their private key to (broadly speaking) encrypt the contents of the certificate, and this cipher text is attached to the certificate as its digital signature.<br>在这种情况下，权威机构使用其私钥（广泛地说）加密证书的内容，并且该密文作为其数字签名附加到证书。<br>Anyone can decrypt this signature using the authority’s public key, and verify that it results in the expected decrypted value.<br>任何人都可以使用权威机构的公钥解密此签名，并验证它是否会产生预期的解密值。<br>But only the authority can encrypt content using the private key, and so only the authority can actually create a valid signature in the first place.<br>但只有权威机构可以使用私钥加密内容，因此只有权威机构才能实际创建有效的签名。(回到上面4句可以看到二者为什么相反)<br>So if a server comes along claiming to have a certificate for Microsoft.com that is signed by Symantec (or some other CA), your browser doesn’t have to take its word for it.<br>因此，如果服务器声称拥有由Symantec（或其他某些CA）签名的Microsoft.com证书，您的浏览器不必相信。<br>If it is legit, Symantec will have used their (ultra-secret) private key to generate the server’s SSL certificate’s digital signature, and so your browser use can use their (ultra-public) public key to check that this signature is valid.<br>如果它是合法的，Symantec将使用他们的（超秘密）私钥生成服务器的SSL证书的数字签名，因此您的浏览器使用可以使用他们的（超公开）公钥来检查此签名是否有效。<br>Symantec will have taken steps to ensure the organisation they are signing for really does own Microsoft.com, and so given that your client trusts Symantec, it can be sure that it really is talking to Microsoft Inc.<br>Symantec将采取措施确保他们签署的组织确实拥有Microsoft.com，因此，鉴于您的客户端信任Symantec，可以肯定它确实与微软公司谈判。</p>
<p><strong>总计: CA的私钥与服务器端的私钥是保证安全性的重要关键<br>CA保证了证书只能由它们签发，服务器保证客户端发来的信息只能由它们解密。</strong></p>
<h2 id="3-3-Self-signing"><a href="#3-3-Self-signing" class="headerlink" title="3.3 Self-signing"></a>3.3 Self-signing</h2><h2 id="3-3-自签发"><a href="#3-3-自签发" class="headerlink" title="3.3 自签发"></a>3.3 自签发</h2><p>Note that all root CA certificates are “self-signed”, meaning that the digital signature is generated using the certificate’s own private key.<br>请注意，所有根CA证书都是“自签名”，这意味着使用证书自己的私钥生成数字签名。<br>There’s nothing intrinsically special about a root CA’s certificate - you can generate your own self-signed certificate and use this to sign other certificates if you want.<br>根CA的证书没有任何本质上的特殊之处 - 您可以生成自己的自签名证书，并根据需要使用它来签署其他证书。</p>
<p>But since your random certificate is not pre-loaded as a CA into any browsers anywhere, none of them will trust you to sign either your own or other certificates.<br>但由于您的随机证书未在任何浏览器中作为CA预先加载到任何浏览器中，因此他们都不会信任您签署自己的证书或其他证书。<br>You are effectively saying “er yeah, I’m totally Microsoft, here’s an official certificate of identity issued and signed by myself,” and all properly functioning browsers will throw up a very scary error message in response to your dodgy credentials.<br>你实际上是在说“呃，是的，我完全是微软，这是我自己发布和签署的官方身份证明”，所有正常运行的浏览器都会抛出一个非常可怕的错误信息，以回应你的狡猾凭据。<br>This puts an enormous burden on all browser and OS publishers to trust only squeaky clean root CAs, as these are the organisations that their users end up trusting to vet websites and keep certificates safe. This is not an easy task.<br>这给所有浏览器和操作系统发布者带来了巨大负担，只能信任干净的干净根CA，因为这些组织的用户最终信任它们来审查网站并保证证书安全。这不是一件容易的事。</p>
<h2 id="3-4-What-are-you-trusting"><a href="#3-4-What-are-you-trusting" class="headerlink" title="3.4 What are you trusting?"></a>3.4 What are you trusting?</h2><h2 id="3-4-你相信什么"><a href="#3-4-你相信什么" class="headerlink" title="3.4 你相信什么?"></a>3.4 你相信什么?</h2><p>It’s interesting to note that your client is technically not trying to verify whether or not it should trust the party that sent it a certificate, but whether it should trust the public key contained in the certificate.<br>有趣的是，您的客户端在技术上并未尝试验证它是否应该信任发送证书的一方，而是它是否应该信任证书中包含的公钥。<br>SSL certificates are completely open and public, so any attacker could grab Microsoft’s certificate, intercept a client’s request to Microsoft.com and present the legitimate certificate to it.<br>SSL证书是完全开放和公开的，因此任何攻击者都可以获取Microsoft的证书，拦截客户对Microsoft.com的请求并向其提供合法证书。<br>The client would accept this and happily begin the handshake. However, when the client encrypts the key that will be used for actual data encryption, it will do so using the real Microsoft’s public key from this real certificate.<br>客户会接受这一点并愉快地开始握手。 但是，当客户端加密将用于实际数据加密的密钥时，它将使用此真实证书中的真实Microsoft公钥进行加密。<br>Since the attacker doesn’t have Microsoft’s private key in order to decrypt it, they are now stuck. Even if the handshake is completed, they will still not be able to decrypt the key, and so will not be able to decrypt any of the data that the client sends to them.<br>由于攻击者没有Microsoft的私钥来解密它，因此它们现在被卡住了。 即使握手完成，它们仍然无法解密密钥，因此无法解密客户端发送给它们的任何数据。<br>Order is maintained as long as the attacker doesn’t control a trusted certificate’s private key. If the client is somehow tricked into trusting a certificate and public key whose private key is controlled by an attacker, trouble begins.<br>只要攻击者无法控制受信任证书的私钥，秩序就不会发生混乱。 如果客户端以某种方式欺骗信任其私钥由攻击者控制的证书和公钥，则麻烦就开始了。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/12/31/how-https-works/" data-id="cjqc2yps10005q8uxqdsky154" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Network-Basic/">Network Basic</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post.md-backend-101" class="article article-type-post.md" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/31/backend-101/" class="article-date">
  <time datetime="2018-12-31T08:33:34.000Z" itemprop="datePublished">2018-12-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/31/backend-101/">backend-end-101</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="后端101"><a href="#后端101" class="headerlink" title="后端101"></a>后端101</h1><h2 id="1-聊一下什么是后端"><a href="#1-聊一下什么是后端" class="headerlink" title="1 聊一下什么是后端"></a>1 聊一下什么是后端</h2><p><img src="https://i.imgur.com/nDmrjnb.png" alt=""><br>后端的主要作用就是<strong>处理</strong>并<strong>响应</strong>前端发来的请求<br>一个例子:<br>前端: 查看一下当前用户列表，并告诉我男女比<br>后端: 从数据库中查找用户列表，并计算男女比，将结果返回</p>
<p>问题:</p>
<ul>
<li>前端如何发送请求到后端</li>
<li>后端如何解析请求</li>
<li>…</li>
</ul>
<h3 id="1-1-谈一下网络请求"><a href="#1-1-谈一下网络请求" class="headerlink" title="1.1 谈一下网络请求"></a>1.1 谈一下网络请求</h3><p>网络请求本质上就是发送方准备好了一堆01这样的二进制数据，然后通过你家的网线传输了出去，在中间各种路由器/交换机/服务器转发后到达了接收方的手中。</p>
<h3 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h3><p>这个发送方可以是你的浏览器，当你在Chrome的地址栏敲下 <code>http://www.baidu.com</code>并按下回车的时候，你的浏览器首先发送了一个请求到<strong>DNS服务器</strong>查询了这个域名对应的ip(DNS的原理大家动手查查)。<br>然后它尝试与这个ip指向的服务器建立一个TCP连接(TCP的3次握手，4次挥手大家再动手查查)，建立了<strong>TCP连接</strong>之后呢，你的浏览器发送了一个http请求。</p>
<p>百度的服务器接受到这个http请求之后，将需要显示给你的HTML文本放在了一个http响应中，返回给你。浏览器接收到这个响应之后，拿出了HTML文本后，根据需要可能还会请求CSS/JS/图片等等资源，请求形式和之前浏览器请求<code>http://www.baidu.com</code>类似,这次可能请求的是<code>http://www.baidu.com/css/index.css</code>。最后浏览器解析出了一个你看到的百度网页的样子。</p>
<ul>
<li>什么是TCP连接/什么是http请求？我们接下来看看OSI 7层协议</li>
</ul>
<p><a href="http://jm.taobao.org/2017/06/08/20170608/" target="_blank" rel="noopener">tcp握手讲解</a></p>
<h3 id="1-2-OSI-7层协议"><a href="#1-2-OSI-7层协议" class="headerlink" title="1.2 OSI 7层协议"></a>1.2 OSI 7层协议</h3><ul>
<li><p>啥是协议?<br><strong>协议是经过合作各方同意的一个统一标准</strong><br>同理网络协议就是一个经过商讨后得出的规定网络之间如何进行通信的标准</p>
</li>
<li><p>什么是OSI 7层协议<br>OSI 7层协议是一个比较抽象的模型，(因为实际上数据包就是一堆二进制代码，没有层这个概念)，但它的核心思想很具体。<strong>就是规定网络传输过程中数据包的二进制数据的格式/内容以及传输方式</strong>。</p>
<p>  而之所以分成7层是因为需要将每一个通信模块分离，每一个通信模块之间只提供接口，而不关心内部的实现，以这种方式进行设计，只要接口没变，内部的实现方式可以随意改变，使得每一个通信模块可以独立设计，也可以很方便的利用其他模块提供的接口进行新的模块设计。</p>
</li>
</ul>
<p><img src="https://i.imgur.com/Q76fQpZ.png" alt=""></p>
<p>除了物理层外<strong>从上往下</strong>每一层都会在原有的数据包上加上特定的帧头(就是包含特定信息的二进制数据)</p>
<p>比如网络层帧头，其中包含了目的地网络地址，用于指示沿途的路由器，这一串二进制流的目的地是哪里，路由器查询自己的网络地址表，决定再发给更靠近目的地的下一跳路由器。</p>
<p>之前提到的<strong>HTTP协议/DNS协议</strong>就是一个位于应用层的协议，而<strong>TCP协议</strong>则是位于传输层的一个协议。<strong>HTTP协议</strong>主要是确定了发送的数据包的内容应该是什么样的格式，而<strong>TCP协议</strong>主要是帮助你进行一个可靠的传输。</p>
<p>可想而知由应用程序发出的一个网络请求沿着应用层向下每层都添加了特定的帧头，最后形成一个完整的请求包。</p>
<p>http请求就是使用http协议的一个网络请求。</p>
<ul>
<li>什么叫使用http协议呢？接下来关注一下传输层及其以上的部分</li>
</ul>
<h2 id="2-关注一下传输层及其以上的部分"><a href="#2-关注一下传输层及其以上的部分" class="headerlink" title="2 关注一下传输层及其以上的部分"></a>2 关注一下传输层及其以上的部分</h2><h3 id="2-1-我们为啥需要在TCP协议之上建立HTTP等协议"><a href="#2-1-我们为啥需要在TCP协议之上建立HTTP等协议" class="headerlink" title="2.1 我们为啥需要在TCP协议之上建立HTTP等协议?"></a>2.1 我们为啥需要在TCP协议之上建立HTTP等协议?</h3><p>其实吧, 抛开HTTP协议, TCP连接也可以很好的工作, 我们也可以愉快的传输数据。<br>但是我们传输的数据没有一个统一的标准,即大家应该如何来解析你发来的数据呢?<br>你发送了一堆二进制,它确实是数据,但接受方假如不知道如何解析你发来的数据,他就无法知道是按照UTF-8编码模式来解析你的请求,还是当作一堆数字,还是说你想传递的是一张图片呢?<br>我们不得而知, 这堆数据不能叫信息,而是垃圾。<br>通信中的双方似乎讲的不是一种语言。</p>
<h3 id="2-2-HTTP协议来了"><a href="#2-2-HTTP协议来了" class="headerlink" title="2.2 HTTP协议来了"></a>2.2 HTTP协议来了</h3><p>所以吧 我们就想在TCP协议之上写一个应用层协议来告诉通信中的双方应该如何解析发送来的数据，也就有了HTTP这一些的协议</p>
<h3 id="2-3-补充一下"><a href="#2-3-补充一下" class="headerlink" title="2.3 补充一下"></a>2.3 补充一下</h3><p>你不仅可以建立在TCP协议之上 你还可以建立在UDP等其他协议上<br>(传输层协议不只有TCP，还有比如UDP，DNS协议就是建立在UDP协议之上的)</p>
<h3 id="2-4-那我们自定义协议写一个简单的客户端与服务端吧"><a href="#2-4-那我们自定义协议写一个简单的客户端与服务端吧" class="headerlink" title="2.4 那我们自定义协议写一个简单的客户端与服务端吧"></a>2.4 那我们自定义协议写一个简单的客户端与服务端吧</h3><p>好吧,既然如此那就让我们来看一个建立在TCP协议之上的一个<strong>自定义协议</strong>的服务端和客户端, 我叫它NP协议吧(naive protocol)</p>
<h3 id="2-5-我们要先知道下socket"><a href="#2-5-我们要先知道下socket" class="headerlink" title="2.5 我们要先知道下socket"></a>2.5 我们要先知道下socket</h3><p>在TCP连接中有两个端点,都用主机的IP地址加上主机上的端口号作为端点的表示，而我们通常将这种端点就叫做套接字（socket）。它是TCP连接中<strong>端</strong>的抽象，是操作系统提供的操作协议栈的一种接口。<br><img src="https://i.imgur.com/VuBrRzu.png" alt=""></p>
<p>其实socket也提供了建立在UDP协议上的接口(但这都是后话了)<br>我们利用socket可以在TCP协议上直接发送数据，或者说定义一个新的协议。</p>
<h3 id="2-6-一个自定义协议的例子"><a href="#2-6-一个自定义协议的例子" class="headerlink" title="2.6 一个自定义协议的例子"></a>2.6 一个自定义协议的例子</h3><p>例子使用c语言<br>包含一个客户端与服务端，两者基于socket自定义协议通信<br><strong>代码见内训资料贴压缩包</strong></p>
<h2 id="3-HTTP"><a href="#3-HTTP" class="headerlink" title="3 HTTP"></a>3 HTTP</h2><ul>
<li><p>那把刚才的<strong>自定义协议</strong>换成<strong>HTTP协议</strong>就是我们经常在用的HTTP server的协议基础啦~<br>你们常用的ftp server就是把<strong>自定义协议</strong> 换成ftp协议啦<br>还有其他的一些协议大家自己了解下吧<br>(DNS/SSH/HTTPS/…)</p>
</li>
<li><p>HTTP协议长什么样呢？<br>简单来说HTTP协议<br><a href="http://www.ruanyifeng.com/blog/2016/08/http.html" target="_blank" rel="noopener">HTTP 协议入门</a></p>
</li>
</ul>
<h3 id="3-1-一个简单的HTTP服务"><a href="#3-1-一个简单的HTTP服务" class="headerlink" title="3.1 一个简单的HTTP服务"></a>3.1 一个简单的HTTP服务</h3><p>假设大家装好了python3<br>那么尝试在一个目录下运行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m http.server -p 8000</span><br></pre></td></tr></table></figure></p>
<p>然后打开8000端口</p>
<h3 id="3-2-用Node-js的http模块写一个简单的服务器"><a href="#3-2-用Node-js的http模块写一个简单的服务器" class="headerlink" title="3.2 用Node.js的http模块写一个简单的服务器"></a>3.2 用Node.js的http模块写一个简单的服务器</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>)</span><br><span class="line"><span class="keyword">const</span> port = <span class="number">3000</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> requestHandler = <span class="function">(<span class="params">request, response</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(request.url)</span><br><span class="line">  <span class="keyword">if</span>(request.url === <span class="string">"/hello"</span>)&#123;</span><br><span class="line">    response.end(<span class="string">'in /hello'</span>)</span><br><span class="line">  &#125;<span class="keyword">else</span> <span class="keyword">if</span>(request.url === <span class="string">"/user"</span>)&#123;</span><br><span class="line">    response.end(<span class="string">'in /user'</span>)</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    response.end(<span class="string">'Hello Node.js Server!'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> server = http.createServer(requestHandler)</span><br><span class="line"></span><br><span class="line">server.listen(port, (err) =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (err) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">console</span>.log(<span class="string">'something bad happened'</span>, err)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`server is listening on <span class="subst">$&#123;port&#125;</span>`</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/12/31/backend-101/" data-id="cjqc2yprq0000q8ux30b96k68" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/learning-material/">learning material</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post.md-front-end-101" class="article article-type-post.md" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/31/front-end-101/" class="article-date">
  <time datetime="2018-12-31T08:31:33.000Z" itemprop="datePublished">2018-12-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/31/front-end-101/">front-end-101</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="前端101"><a href="#前端101" class="headerlink" title="前端101"></a>前端101</h1><h2 id="0-前端概览"><a href="#0-前端概览" class="headerlink" title="0 前端概览"></a>0 前端概览</h2><p>前端 html / css / js / resource / ….<br>html 描述了网页的骨架/结构<br>css 描述了网页的表现形式/模样<br>js 给网页更多的可能, 动态操作dom/AJAX请求/改变样式/动画/…</p>
<p><a href="https://segmentfault.com/a/1190000012729188" target="_blank" rel="noopener">前端历史</a></p>
<h2 id="1-HTML基础"><a href="#1-HTML基础" class="headerlink" title="1 HTML基础"></a>1 HTML基础</h2><p>HTML的发展历史<br><a href="https://zh.wikipedia.org/wiki/HTML" target="_blank" rel="noopener">参考链接</a></p>
<h3 id="1-1-HTML是什么"><a href="#1-1-HTML是什么" class="headerlink" title="1.1 HTML是什么"></a>1.1 HTML是什么</h3><ul>
<li>HTML 是用来描述网页的一种语言。</li>
<li>HTML 指的是超文本标记语言 (Hyper Text Markup Language)</li>
<li>HTML 不是一种编程语言，而是一种标记语言 (markup language)</li>
<li>HTML 使用标记标签来描述网页<h3 id="1-2-HTML基本结构"><a href="#1-2-HTML基本结构" class="headerlink" title="1.2 HTML基本结构"></a>1.2 HTML基本结构</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"theme.css"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>我的第一个标题<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>我的第一个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>保存为<code>index.html</code>，然后用浏览器打开这个文件就可以看到你写的html文件的展示效果</p>
<p>HTML中就是使用标签来描述网页的结构,如<code>&lt;p&gt;内容&lt;/p&gt;</code>这是一个表示网页段落的标签。</p>
<p>标签需要闭合,有的标签需要开始标签与结束标签，如<code>&lt;p&gt;内容&lt;/p&gt;</code> 而有的标签是自闭合的, 如<code>&lt;br/&gt;</code></p>
<p>lab:<br>打开<code>index.html</code>观察效果<br><a href="https://" target="_blank" rel="noopener">DOCTYPE html的作用？</a></p>
<h3 id="1-3-常用的标签"><a href="#1-3-常用的标签" class="headerlink" title="1.3 常用的标签"></a>1.3 常用的标签</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="1-4-标签的属性"><a href="#1-4-标签的属性" class="headerlink" title="1.4 标签的属性"></a>1.4 标签的属性</h3><h4 id="1-4-1-属性是什么"><a href="#1-4-1-属性是什么" class="headerlink" title="1.4.1 属性是什么"></a>1.4.1 属性是什么</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"xxxxx"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<p>标签可以用于属性，用来描述标签的性质<br>比如上面的src属性可以用来表示img标签中显示图片的地址</p>
<h4 id="1-4-2-一些例子"><a href="#1-4-2-一些例子" class="headerlink" title="1.4.2 一些例子"></a>1.4.2 一些例子</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"background:black;width:100px"</span>&gt;</span></span><br><span class="line">    hello world</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>style属性描述了div标签的表现形式，通俗的说就是描述了div标签在页面中张什么样子。可以试着改变100这个值为其他东西，比如600，或者更改black为red。观察效果如何。这将与我们之后提到的css有关</p>
<h4 id="1-4-3-class-id"><a href="#1-4-3-class-id" class="headerlink" title="1.4.3 class/id"></a>1.4.3 class/id</h4><ul>
<li>你可以通过给标签添加class属性给你的标签分组</li>
<li>你可以通过给标签添加id属性给你的标签加唯一的身份标识<br>有什么用呢？<br>针对某些特定的标签做一些事情的时候</li>
</ul>
<p>举例</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        .red &#123;</span></span><br><span class="line"><span class="undefined">        color:red;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">        .green &#123;</span></span><br><span class="line"><span class="undefined">        color:green;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">        #yellow &#123;</span></span><br><span class="line"><span class="undefined">        color:yellow;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>我的第一个标题<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"red"</span>&gt;</span>我的第1个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"green"</span>&gt;</span>我的第2个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"red"</span>&gt;</span>我的第3个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"green"</span>&gt;</span>我的第4个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"red"</span>&gt;</span>我的第5个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"yellow"</span>&gt;</span>我的第6个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>lab:<br>打开<code>classId.html</code><br>请观察这些标签的效果，试着做一些改变看看会发生什么</p>
<h4 id="1-4-4-自定义属性"><a href="#1-4-4-自定义属性" class="headerlink" title="1.4.4 自定义属性"></a>1.4.4 自定义属性</h4><p>你还可以自定义属性<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">data-blah</span>=<span class="string">"blah"</span>&gt;</span></span><br><span class="line">    hello world</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>这样你可以添加自己对标签的一些额外的描述</p>
<h3 id="1-5-HTML注释"><a href="#1-5-HTML注释" class="headerlink" title="1.5 HTML注释"></a>1.5 HTML注释</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 在此处写注释 --&gt;</span></span><br></pre></td></tr></table></figure>
<p>example<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>我的第一个标题<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;p&gt;我的第一个段落。&lt;/p&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>lab:<br>打开<code>comment.html</code>观察效果<br>观察上述代码的结果</p>
<h3 id="1-6-HTML链接"><a href="#1-6-HTML链接" class="headerlink" title="1.6 HTML链接"></a>1.6 HTML链接</h3><h4 id="1-6-1-认识-lt-a-gt-lt-a-gt-标签"><a href="#1-6-1-认识-lt-a-gt-lt-a-gt-标签" class="headerlink" title="1.6.1 认识&lt;a&gt;&lt;/a&gt;标签"></a>1.6.1 认识<code>&lt;a&gt;&lt;/a&gt;</code>标签</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"www.baidu.com"</span>&gt;</span>Link text<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>lab:<br>试着在之前的<code>a.html</code>点击这个链接，观察发生了什么</p>
<h4 id="1-6-2-页面内跳转"><a href="#1-6-2-页面内跳转" class="headerlink" title="1.6.2 页面内跳转"></a>1.6.2 页面内跳转</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        p &#123;</span></span><br><span class="line"><span class="undefined">        height:200px;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#7th"</span>&gt;</span>go to 7th p<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#8th"</span>&gt;</span>go to 8th p<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>我的第一个标题<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>我的第1个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>我的第2个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>我的第3个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>我的第4个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>我的第5个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>我的第6个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">name</span>=<span class="string">"7th"</span>&gt;</span>我的第7个段落。<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"8th"</span>&gt;</span>我的第8个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>lab:<br>打开<code>anchor.html</code>观察效果</p>
<h3 id="1-7-HTML的头部"><a href="#1-7-HTML的头部" class="headerlink" title="1.7 HTML的头部"></a>1.7 HTML的头部</h3><p>常用的头部标签<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span> 页面title<span class="tag">&lt;/<span class="name">title</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span>&gt;</span> 设置页面的元数据 比如使用的编码</span><br><span class="line"><span class="tag">&lt;<span class="name">link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/head" target="_blank" rel="noopener">HTML head</a><br>note:<br>关注链接中的相关链接部分</p>
<h3 id="1-8-更多标签-gt"><a href="#1-8-更多标签-gt" class="headerlink" title="1.8 更多标签-&gt;"></a>1.8 更多标签-&gt;</h3><p><a href="http://www.w3school.com.cn/html/" target="_blank" rel="noopener">w3cschool</a><br><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML" target="_blank" rel="noopener">MDN</a><br>请关注表单控件/表格</p>
<h3 id="1-10-行内元素和块级元素"><a href="#1-10-行内元素和块级元素" class="headerlink" title="1.10 行内元素和块级元素"></a>1.10 行内元素和块级元素</h3><p><a href="https://www.jeffjade.com/2015/06/24/2015-06-24-css-block-inline/" target="_blank" rel="noopener">参考链接</a><br>Note：<br>关注常见的行内元素/块级元素<br>关注行内元素与块级元素的区别<br>lab:<br>打开<code>blockInline.html</code>观察效果<br>尝试给span元素增加高度设置</p>
<h3 id="1-11-Chrome开发者工具的简单用法"><a href="#1-11-Chrome开发者工具的简单用法" class="headerlink" title="1.11 Chrome开发者工具的简单用法"></a>1.11 Chrome开发者工具的简单用法</h3><h2 id="2-css基础"><a href="#2-css基础" class="headerlink" title="2 css基础"></a>2 css基础</h2><ul>
<li>有了html你可以很好表达你的页面中需要有什么，你可以说我的页面里需要有一个我的自拍照。</li>
<li>这很妙，可是你无法很好的表达你的页面中的元素应该长什么样子，比如你的照片多大，放在哪里，加个滤镜？</li>
<li>又比如这段文字的大小，颜色应该是什么样的？</li>
<li>其实我们在这之前就已经接触到了css(style属性/style标签)</li>
<li>但我们需要一个更好的表达我们页面样式的方式来做到更好的复用性/与我们的html分离<h3 id="2-1-css是什么"><a href="#2-1-css是什么" class="headerlink" title="2.1 css是什么"></a>2.1 css是什么</h3>层叠样式表 (Cascading Style Sheets，缩写为 CSS），是一种 样式表 语言，用来描述 HTML 或 XML（包括如 SVG、XHTML 之类的 XML 分支语言）文档的呈现。CSS 描述了在屏幕、纸质、音频等其它媒体上的元素应该如何被渲染的问题。</li>
</ul>
<h3 id="2-2-css基础语法"><a href="#2-2-css基础语法" class="headerlink" title="2.2 css基础语法"></a>2.2 css基础语法</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">selectorlist</span> &#123;</span><br><span class="line">  <span class="attribute">property</span>: value;</span><br><span class="line">  [more property:value; pairs]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">strong</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.menu-bar</span> <span class="selector-tag">li</span><span class="selector-pseudo">:hover</span> &gt; <span class="selector-tag">ul</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-3-css选择器"><a href="#2-3-css选择器" class="headerlink" title="2.3 css选择器"></a>2.3 css选择器</h3><p>如何写selectorlist<br><a href="https://developer.mozilla.org/zh-CN/docs/Learn/CSS/Introduction_to_CSS/Selectors" target="_blank" rel="noopener">选择器</a><br>Note:<br>关注</p>
<ul>
<li>简单选择器(元素/class/id选择)</li>
<li>属性选择器</li>
<li>伪类和伪元素</li>
<li>组合器<br><img src="https://i.imgur.com/7VCpKN7.png" alt="组合器"></li>
</ul>
<h3 id="2-4-css伪类"><a href="#2-4-css伪类" class="headerlink" title="2.4 css伪类"></a>2.4 css伪类</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Reference#%E9%80%89%E6%8B%A9%E5%99%A8" target="_blank" rel="noopener">伪类</a></p>
<h3 id="2-5-css伪元素"><a href="#2-5-css伪元素" class="headerlink" title="2.5 css伪元素"></a>2.5 css伪元素</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Reference#%E9%80%89%E6%8B%A9%E5%99%A8" target="_blank" rel="noopener">伪类</a></p>
<h3 id="2-4-css注释"><a href="#2-4-css注释" class="headerlink" title="2.4 css注释"></a>2.4 css注释</h3><p>/**/<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.exciting-text</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line"><span class="comment">/*     content: "&lt;- 让人兴兴兴奋!";  */</span></span><br><span class="line">    <span class="attribute">color</span>: green;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="2-5-css优先级"><a href="#2-5-css优先级" class="headerlink" title="2.5 css优先级"></a>2.5 css优先级</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Learn/CSS/Introduction_to_CSS/Cascade_and_inheritance" target="_blank" rel="noopener">继承和优先级</a><br>优先级取决于<br>1 重要性（Importance） ！important优先<br>2 专用性（Specificity） 详细的优先<br>3 源代码次序（Source order） 后面的战胜之前的</p>
<p>继承规则决定<br>后代元素是否继承祖先元素的某些属性值</p>
<h3 id="2-6-盒模型"><a href="#2-6-盒模型" class="headerlink" title="2.6 盒模型"></a>2.6 盒模型</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Learn/CSS/Introduction_to_CSS/Box_model" target="_blank" rel="noopener">盒模型</a><br>Note:<br>content（页面的主要内容）<br>padding (分隔页面与边框的距离)<br>border(边框大小)<br>margin (分离与其他元素)<br>关注 box-sizing<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/box-sizing" target="_blank" rel="noopener">box-sizing</a></p>
<h3 id="2-7-css布局-position-flex-grid"><a href="#2-7-css布局-position-flex-grid" class="headerlink" title="2.7 css布局(position/flex/grid)"></a>2.7 css布局(position/flex/grid)</h3><p>兼容性 position &gt; flex &gt; grid<br>简易度 grid = flex &gt; position</p>
<h4 id="2-7-1-position"><a href="#2-7-1-position" class="headerlink" title="2.7.1 position"></a>2.7.1 position</h4><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/position" target="_blank" rel="noopener">position (MDN)</a><br>Note:</p>
<ul>
<li>position:static/relative/absoulte/fixed/sticky</li>
<li>注意absoulte定位<blockquote>
<p> If there is no such parent, it will default all the way back up to the \<html> element itself meaning it will be placed relatively to the page itself.</html></p>
</blockquote>
</li>
<li>注意文档流的概念</li>
</ul>
<p>lab:<br>打开position文件夹下的html文件观察效果</p>
<h4 id="2-7-2-flex"><a href="#2-7-2-flex" class="headerlink" title="2.7.2 flex"></a>2.7.2 flex</h4><p><a href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/" target="_blank" rel="noopener">flex (css-tricks的一篇文章)</a><br>css-trick有许多比较好的css文章<br>Note</p>
<ul>
<li>flex-basis(在其他元素分配剩余空间之前设定默认尺寸)</li>
</ul>
<h4 id="2-7-3-grid-补充"><a href="#2-7-3-grid-补充" class="headerlink" title="2.7.3 grid(补充)"></a>2.7.3 grid(补充)</h4><p><a href="https://css-tricks.com/snippets/css/complete-guide-grid/" target="_blank" rel="noopener">grid (css-tricks的一篇文章)</a></p>
<h4 id="2-7-4-float定位-补充"><a href="#2-7-4-float定位-补充" class="headerlink" title="2.7.4 float定位(补充)"></a>2.7.4 float定位(补充)</h4><p>lab:<br>打开 <code>float.html</code>查看效果</p>
<h4 id="2-7-5-高度塌缩-补充"><a href="#2-7-5-高度塌缩-补充" class="headerlink" title="2.7.5 高度塌缩(补充)"></a>2.7.5 高度塌缩(补充)</h4><p><a href="http://wiki.jikexueyuan.com/project/liujinsheng/note/float%E9%80%A0%E6%88%90%E7%9A%84%E9%AB%98%E5%BA%A6%E5%A1%8C%E9%99%B7.html" target="_blank" rel="noopener">高度塌缩问题</a></p>
<p><img src="https://i.imgur.com/WOuIB7T.png" alt=""></p>
<h4 id="2-7-6-position-和flex冲突吗-补充"><a href="#2-7-6-position-和flex冲突吗-补充" class="headerlink" title="2.7.6 position 和flex冲突吗(补充)"></a>2.7.6 position 和flex冲突吗(补充)</h4><p><a href="https://stackoverflow.com/questions/41033245/does-position-absolute-conflict-with-flexbox" target="_blank" rel="noopener">position 和flex冲突吗</a></p>
<h3 id="2-8-css-prefix"><a href="#2-8-css-prefix" class="headerlink" title="2.8 css prefix"></a>2.8 css prefix</h3><h4 id="2-8-1-为什么需要前缀？"><a href="#2-8-1-为什么需要前缀？" class="headerlink" title="2.8.1 为什么需要前缀？"></a>2.8.1 为什么需要前缀？</h4><p><a href="http://www.webhek.com/post/vendor-prefixes.html" target="_blank" rel="noopener">参考链接</a></p>
<ul>
<li>试验一些还未成为标准的的CSS属性——也许永远不会成为标准</li>
<li>对新出现的标准的CSS3属性特征做实验性的实现</li>
<li>对CSS3中一些新属性做等效语义的个性实现</li>
</ul>
<p><code>Android</code>: <code>-webkit-</code><br><code>Chrome</code>: <code>-webkit-</code><br><code>Safari</code>: <code>-webkit-</code><br><code>iOS</code>: <code>-webkit-</code><br><code>Firefox</code>: <code>-moz-</code><br><code>Internet Explorer</code>: <code>-ms-</code><br><code>Opera</code>: <code>-o-</code></p>
<h4 id="2-8-2-如何加前缀？"><a href="#2-8-2-如何加前缀？" class="headerlink" title="2.8.2 如何加前缀？"></a>2.8.2 如何加前缀？</h4><p><a href="https://autoprefixer.github.io/" target="_blank" rel="noopener">autoprefix工具</a></p>
<p>lab:<br>打开<code>prefix.css</code>并将其中内容复制到autoprefix工具中查看结果</p>
<h3 id="2-9-css预处理-stylus-sass-less…"><a href="#2-9-css预处理-stylus-sass-less…" class="headerlink" title="2.9 css预处理(stylus/sass/less…)"></a>2.9 css预处理(stylus/sass/less…)</h3><p><a href="https://zhuanlan.zhihu.com/p/23382462" target="_blank" rel="noopener">预处理器的好处以及简单的对比</a><br><a href="http://stylus-lang.com/" target="_blank" rel="noopener">stylus如何使用？</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/12/31/front-end-101/" data-id="cjqc2yprv0001q8uxls6srord" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/learning-material/">learning material</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post.md-javascript-arrow-function" class="article article-type-post.md" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/31/javascript-arrow-function/" class="article-date">
  <time datetime="2018-12-31T07:34:08.000Z" itemprop="datePublished">2018-12-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/31/javascript-arrow-function/">javascript-arrow-function</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="1-前言"><a href="#1-前言" class="headerlink" title="1 前言"></a>1 前言</h2><p>请先看 -&gt; <a href="/2018/12/31/javascript-this/">如何理解this关键词</a></p>
<p>ES6中引入了一种无法使用4种this绑定规则的特殊函数类型,箭头函数(arrow function)<br>箭头函数根据外层作用域来决定this(有词法作用域的味道)</p>
<h2 id="2-例子"><a href="#2-例子" class="headerlink" title="2 例子"></a>2 例子</h2><p>看下面的两个例子</p>
<p><code>example #1</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">x</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.a = <span class="number">3</span><span class="comment">//利用obj调用时候 this指向obj</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">y</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.a = <span class="number">2</span><span class="comment">//this指向全局对象了</span></span><br><span class="line">    &#125;</span><br><span class="line">    y()</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;</span><br><span class="line">x.apply(obj)</span><br><span class="line"><span class="built_in">console</span>.log(obj,global.a)<span class="comment">//&#123;a:3&#125; 2</span></span><br></pre></td></tr></table></figure></p>
<p>可以看到上面函数x中的y函数的this指向的是全局对象，因为y的调用使用默认绑定<br>改进方法如下</p>
<p><code>example #2</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">x</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.a = <span class="number">3</span><span class="comment">//利用obj调用时候 this指向obj</span></span><br><span class="line">  that = <span class="keyword">this</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">y</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      that.a = <span class="number">2</span><span class="comment">//利用js闭包的特性记住了外部的this</span></span><br><span class="line">  &#125;</span><br><span class="line">  y()</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;</span><br><span class="line">x.apply(obj)</span><br><span class="line"><span class="built_in">console</span>.log(obj,global.a)<span class="comment">//&#123;a:2&#125; undefined</span></span><br></pre></td></tr></table></figure></p>
<h2 id="3-更加优雅的箭头函数的方法"><a href="#3-更加优雅的箭头函数的方法" class="headerlink" title="3 更加优雅的箭头函数的方法"></a>3 更加优雅的箭头函数的方法</h2><p><code>example #3</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">x</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.a = <span class="number">3</span><span class="comment">//利用obj调用时候 this指向obj</span></span><br><span class="line">    <span class="keyword">var</span> y = <span class="function"><span class="params">()</span> =&gt;</span>&#123;<span class="comment">//不修改this this仍然指向obj</span></span><br><span class="line">        <span class="keyword">this</span>.a = <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">    y()</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">a</span>:<span class="number">0</span>&#125;</span><br><span class="line">x.apply(obj)</span><br><span class="line"><span class="built_in">console</span>.log(obj)<span class="comment">//&#123;a:2&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>这里箭头函数y中this是其词法作用域中的this，即x绑定的obj对象。箭头函数的绑定无法被更改，其this在函数定义的时候确定。<br>常用于回调函数中</p>
<p><code>example 4</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.a)</span><br><span class="line">    &#125;,<span class="number">1000</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj = &#123;<span class="attr">a</span>:<span class="number">1</span>&#125;</span><br><span class="line">foo.call(obj) <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure></p>
<p>因为this绑定到全局对象上了</p>
<p>使用箭头函数进行改进</p>
<p><code>example 5</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.a)</span><br><span class="line">    &#125;,<span class="number">1000</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj = &#123;<span class="attr">a</span>:<span class="number">1</span>&#125;</span><br><span class="line">foo.call(obj)<span class="comment">//1</span></span><br></pre></td></tr></table></figure></p>
<p>这里箭头函数记住了this为foo函数的this，所以调用了obj中的a属性</p>
<h3 id="总结-：-箭头函数不会采用四条标准的绑定规则，而是根据当前的词法作用域来决定this"><a href="#总结-：-箭头函数不会采用四条标准的绑定规则，而是根据当前的词法作用域来决定this" class="headerlink" title="总结 ： 箭头函数不会采用四条标准的绑定规则，而是根据当前的词法作用域来决定this"></a>总结 ： 箭头函数不会采用四条标准的绑定规则，而是根据当前的词法作用域来决定this</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/12/31/javascript-arrow-function/" data-id="cjqc2yps00004q8uxqv3qxslq" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/">javascript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post.md-javascript-prototype" class="article article-type-post.md" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/31/javascript-prototype/" class="article-date">
  <time datetime="2018-12-31T07:28:14.000Z" itemprop="datePublished">2018-12-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/31/javascript-prototype/">javascript-prototype</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="1-前言"><a href="#1-前言" class="headerlink" title="1 前言"></a>1 前言</h2><p>javascript 是具有基于<code>原型链</code>的面向对象编程语言</p>
<p><code>oop</code> != <code>class</code></p>
<p><code>oop</code> 也不需要基于<code>class</code></p>
<p>请先抛弃<code>class</code>关键词</p>
<h2 id="2-在javascript中-对象来自于对象Object-comes-from-Object。你可以使用对象来直接构造一个对象"><a href="#2-在javascript中-对象来自于对象Object-comes-from-Object。你可以使用对象来直接构造一个对象" class="headerlink" title="2 在javascript中,对象来自于对象Object comes from Object。你可以使用对象来直接构造一个对象"></a>2 在javascript中,对象来自于对象<code>Object comes from Object</code>。你可以使用对象来直接构造一个对象</h2><p><code>example #1</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> food = &#123;</span><br><span class="line">  eat:<span class="string">"i eat !"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> meal = <span class="built_in">Object</span>.create(food)</span><br><span class="line"><span class="built_in">console</span>.log(meal.eat) <span class="comment">// "i eat"</span></span><br></pre></td></tr></table></figure></p>
<p>现在我来解释下这里发生了什么,首先Object.create(source)方法创建了一个新的空对象,然后将新对象的原型设置为source即你传入对象。</p>
<h3 id="2-1-首先来验证下meal确实是空对象"><a href="#2-1-首先来验证下meal确实是空对象" class="headerlink" title="2.1 首先来验证下meal确实是空对象"></a>2.1 首先来验证下<code>meal确实是空对象</code></h3><p><code>console.log(meal) // {}</code></p>
<h3 id="2-2-然后我们来验证meal的原型确实是food"><a href="#2-2-然后我们来验证meal的原型确实是food" class="headerlink" title="2.2 然后我们来验证meal的原型确实是food"></a>2.2 然后我们来验证<code>meal的原型确实是food</code></h3><p><code>meal.__proto__ === food //true</code></p>
<h3 id="2-3-你可能会问-等等-proto-是什么？？？-为什么meal-eat-输出了内容？？？"><a href="#2-3-你可能会问-等等-proto-是什么？？？-为什么meal-eat-输出了内容？？？" class="headerlink" title="2.3 你可能会问:等等!__proto__是什么？？？ 为什么meal.eat 输出了内容？？？"></a>2.3 你可能会问:等等!<code>__proto__</code>是什么？？？ 为什么<code>meal.eat 输出了内容</code>？？？</h3><h4 id="2-3-1-先回答第一个问题-proto-是什么？"><a href="#2-3-1-先回答第一个问题-proto-是什么？" class="headerlink" title="2.3.1 先回答第一个问题:__proto__是什么？"></a>2.3.1 先回答第一个问题:<code>__proto__</code>是什么？</h4><p>在javascript中所有的对象中都有一个内置属性<code>__proto__</code>,指向它的原型对象。<br>在这个例子中<code>meal</code>的原型对象就是<code>food</code><br>所有对象的原型指向形成了链式结构，这就是原型链，而原型链的顶端就是<code>Object.prototype</code></p>
<p><code>meal.__proto -&gt;food  food.__proto-&gt;Object.prototype</code></p>
<p><code>Object.prototype</code>的原型是<code>null</code></p>
<p><code>Object.prototype.__proto__ -&gt; null</code></p>
<p>知道这个原理之后我们就可以来模拟一下<code>Object.create()</code></p>
<p><code>example#2</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ourNew</span>(<span class="params">source</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> obj = &#123;&#125;</span><br><span class="line">  obj.__proto__ = source</span><br><span class="line">  <span class="keyword">return</span> obj</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> food = &#123;</span><br><span class="line">  eat:<span class="string">"i eat"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> meal = ourNew(food)</span><br><span class="line"><span class="built_in">console</span>.log(meal.eat)<span class="comment">//"i eat"</span></span><br></pre></td></tr></table></figure></p>
<p>太棒了，我们模拟了一个对象的继承</p>
<h4 id="2-3-2-再回答第二个问题-为什么meal-eat-输出了内容？"><a href="#2-3-2-再回答第二个问题-为什么meal-eat-输出了内容？" class="headerlink" title="2.3.2 再回答第二个问题:为什么meal.eat 输出了内容？"></a>2.3.2 再回答第二个问题:为什么<code>meal.eat 输出了内容</code>？</h4><p>js中对象属性的查找机制，是从对象本身开始查找，如果查找不到，则顺着<code>原型链</code>继续向上查找，直到找到对应属性后返回，否则返回<code>undefined</code></p>
<p>即<code>meal.__proto__.__proto__...</code></p>
<p>当原型链中存在相同属性时候,最先找到的会被返回，而<code>上层的同名属性会被屏蔽</code></p>
<p><code>example #3</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> food = &#123;</span><br><span class="line">  eat:<span class="string">"i eat !"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> meal = <span class="built_in">Object</span>.create(food)</span><br><span class="line"><span class="built_in">console</span>.log(meal.eat)<span class="comment">//"i eat"</span></span><br><span class="line">meal.eat = <span class="string">"i don't eat"</span></span><br><span class="line"><span class="built_in">console</span>.log(meal.eat)<span class="comment">//"i don't eat"</span></span><br><span class="line"><span class="built_in">console</span>.log(meal.__proto__.eat)<span class="comment">//"i eat" oops! food的eat属性被meal屏蔽了</span></span><br></pre></td></tr></table></figure></p>
<h2 id="3-构造函数-new-关键词"><a href="#3-构造函数-new-关键词" class="headerlink" title="3 构造函数 new 关键词"></a>3 构造函数 new 关键词</h2><p>在js中我们还可以通过一类特殊的对象 – 函数 来构建对象，也就是我们经常说的构造函数。<br>任何函数只要前面加上关键词<code>new</code>就会被当作是构造函数</p>
<p><code>example #4</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Point</span>(<span class="params">x,y</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.x = x</span><br><span class="line">  <span class="keyword">this</span>.y = y</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> point = <span class="keyword">new</span> Point(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">console</span>.log(point)<span class="comment">//&#123;x:1,y:2&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>这其中发生了什么呢？</p>
<p>1 首先一个对象被创建，对象的<code>_proto_</code>是<code>Point.prototype</code>即构造函数.prototype</p>
<p>2 将this绑定到这个对象，用参数构造这个对象，即 新创建对象的<code>x</code> 变为传入参数 <code>x</code>，新创建对象的<code>y</code> 变为传入参数的 <code>y</code></p>
<p>3 如果构造函数没有显式返回一个对象，则返回新创建的对象</p>
<p> <code>example #5</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Point</span>(<span class="params">x,y</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.x = x</span><br><span class="line">  <span class="keyword">this</span>.y = y</span><br><span class="line">  <span class="keyword">return</span> &#123;<span class="attr">x</span>:<span class="number">100</span>,<span class="attr">y</span>:<span class="number">100</span>&#125;<span class="comment">//显式返回对象 覆盖新建立的对象</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> point = <span class="keyword">new</span> Point(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">console</span>.log(point)<span class="comment">//&#123;x:100,y:100&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>所以在js中对象直接来自对象，不管你是用object.create() 还是 new function()来创建</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/12/31/javascript-prototype/" data-id="cjqc2yps30008q8uxx7jdpxn6" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/">javascript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post.md-javascript-this" class="article article-type-post.md" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/31/javascript-this/" class="article-date">
  <time datetime="2018-12-31T07:18:09.000Z" itemprop="datePublished">2018-12-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/31/javascript-this/">javascript-this</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="1-前言："><a href="#1-前言：" class="headerlink" title="1 前言："></a>1 前言：</h2><p><code>this</code> 是javascript中一个重要的关键词 根据函数<code>执行</code>时候上下文的不同<code>this</code>代表的含义也不同</p>
<h2 id="2-为什么使用this"><a href="#2-为什么使用this" class="headerlink" title="2 为什么使用this"></a>2 为什么使用<code>this</code></h2><p><code>this</code>提供了优雅的方式来隐式的传递一个对象的引用</p>
<p><code>this</code>是在运行时候绑定的，并不是在编写的时候绑定的，它的上下文取决于函数调用时的条件。</p>
<h3 id="this绑定规则有4种"><a href="#this绑定规则有4种" class="headerlink" title="this绑定规则有4种"></a>this绑定规则有4种</h3><h2 id="3-绑定机制"><a href="#3-绑定机制" class="headerlink" title="3 绑定机制"></a>3 绑定机制</h2><h3 id="3-1-不带任何修饰的函数调用-默认绑定"><a href="#3-1-不带任何修饰的函数调用-默认绑定" class="headerlink" title="3.1 不带任何修饰的函数调用 -默认绑定"></a>3.1 不带任何修饰的函数调用 -默认绑定</h3><p>没有任何修饰，即没有使用apply/call，也没有显式的对象包含 比如 <code>object.somefunction()</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">1</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.a)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fun()</span><br><span class="line"><span class="comment">//使用默认绑定，非严格模式下是全局对象 window，</span></span><br><span class="line"><span class="comment">//调用window的a属性,即1；严格模式下为undefined，发生错误</span></span><br></pre></td></tr></table></figure>
<h3 id="3-2-隐式绑定"><a href="#3-2-隐式绑定" class="headerlink" title="3.2 隐式绑定"></a>3.2 隐式绑定</h3><p>被对象拥有或者包含时候使用隐式绑定，this指向调用对象</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">2</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.a)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  a:<span class="number">1</span>,</span><br><span class="line">  fun:fun</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.fun()<span class="comment">//1</span></span><br></pre></td></tr></table></figure>
<p>但此时需要注意一种隐式丢失的情况</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">2</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.a)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  a:<span class="number">1</span>,</span><br><span class="line">  fun:fun</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> anotherfun = obj.fun</span><br><span class="line">anotherfun()<span class="comment">//2,anotherfun是fun的别名或者说引用，此时没有任何修饰,使用默认绑定</span></span><br></pre></td></tr></table></figure>
<p>对象属性引用链中只有最后一条会影响调用<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.a)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;</span><br><span class="line">  a:<span class="number">42</span>,</span><br><span class="line">  foo:foo</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj1 = &#123;</span><br><span class="line">  a:<span class="number">2</span>,</span><br><span class="line">  obj2:obj2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj1.obj2.foo()<span class="comment">//42</span></span><br></pre></td></tr></table></figure></p>
<h3 id="3-3-显示绑定"><a href="#3-3-显示绑定" class="headerlink" title="3.3 显示绑定"></a>3.3 显示绑定</h3><p>使用<code>call</code>/<code>apply</code>/<code>bind</code>进行硬绑定<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.a)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj=&#123;</span><br><span class="line">  a:<span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo.call(obj) <span class="comment">// 1</span></span><br><span class="line">foo.apply(obj) <span class="comment">// 1</span></span><br><span class="line"><span class="keyword">let</span> foo_with_obj = foo.bind(obj)</span><br><span class="line">foo_with_obj()<span class="comment">//1</span></span><br></pre></td></tr></table></figure></p>
<h3 id="3-4-new关键词绑定"><a href="#3-4-new关键词绑定" class="headerlink" title="3.4 new关键词绑定"></a>3.4 new关键词绑定</h3><p>new的执行过程<br>1 创建一个全新的对象<br>2 绑定原型链<br>3 新对象绑定到函数调用的this<br>4 函数没有返回其他对象，那么返回新对象</p>
<p>可以看到第3步中，new关键词，会将新对象绑定到调用函数的this上</p>
<h2 id="4-绑定的优先级"><a href="#4-绑定的优先级" class="headerlink" title="4 绑定的优先级"></a>4 绑定的优先级</h2><p>new &gt; 显示 &gt; 隐式 &gt; 默认</p>
<p>证明 显式 &gt; 隐式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.a)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj1= &#123;</span><br><span class="line">  a:<span class="number">1</span>,</span><br><span class="line">  foo:foo</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj2=&#123;</span><br><span class="line">  a:<span class="number">2</span>,</span><br><span class="line">  foo:foo</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj1.foo()<span class="comment">//1</span></span><br><span class="line">obj2.foo()<span class="comment">//2</span></span><br><span class="line">obj1.foo.call(obj2)<span class="comment">//2</span></span><br><span class="line">obj2.foo.call(obj1)<span class="comment">//1</span></span><br></pre></td></tr></table></figure>
<p>证明 new优先级高于显示绑定<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">something</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.a= something</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> bar = foo.bind(obj)</span><br><span class="line">bar(<span class="number">2</span>)</span><br><span class="line"><span class="built_in">console</span>.log(obj.a)<span class="comment">//2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> baz = <span class="keyword">new</span> bar(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">console</span>.log(obj.a)<span class="comment">//2</span></span><br><span class="line"><span class="built_in">console</span>.log(baz.a)<span class="comment">//3</span></span><br></pre></td></tr></table></figure></p>
<h2 id="5-apply-call-bind-使用-null作为绑定对象"><a href="#5-apply-call-bind-使用-null作为绑定对象" class="headerlink" title="5 apply/call/bind 使用 null作为绑定对象"></a>5 apply/call/bind 使用 null作为绑定对象</h2><p>此时为默认绑定<br>如果你的函数不会修改this，那么可以放心传入<br>否则，你的函数会在全局对象上产生可怕的修改<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.x = x</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = &#123;&#125;</span><br><span class="line">foo.apply(obj, [<span class="number">2</span>])</span><br><span class="line"><span class="built_in">console</span>.log(obj.x)<span class="comment">//2</span></span><br><span class="line"></span><br><span class="line">foo.apply(<span class="literal">null</span>, [<span class="number">3</span>])</span><br><span class="line"><span class="built_in">console</span>.log(global.x)<span class="comment">// 2 3</span></span><br></pre></td></tr></table></figure></p>
<h3 id="5-1-避免不必要的默认绑定"><a href="#5-1-避免不必要的默认绑定" class="headerlink" title="5.1 避免不必要的默认绑定"></a>5.1 避免不必要的默认绑定</h3><p>可以使用一个空的DMZ对象进行绑定<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.a = <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line">valet SPECIAL_OBJ = <span class="built_in">Object</span>.create(<span class="literal">null</span>)<span class="comment">//空对象&#123;&#125;</span></span><br><span class="line">foo.call(SPECIAL_OBJ)</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/12/31/javascript-this/" data-id="cjqc2yps40009q8ux762ct0xs" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/">javascript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/31/hello-world/" class="article-date">
  <time datetime="2018-12-31T06:51:40.746Z" itemprop="datePublished">2018-12-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/31/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/12/31/hello-world/" data-id="cjqc2ypry0003q8uxxne93x0u" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Network-Basic/">Network Basic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/learning-material/">learning material</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Network-Basic/" style="font-size: 10px;">Network Basic</a> <a href="/tags/javascript/" style="font-size: 20px;">javascript</a> <a href="/tags/learning-material/" style="font-size: 15px;">learning material</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/12/31/how-https-works/">how-https-works</a>
          </li>
        
          <li>
            <a href="/2018/12/31/backend-101/">backend-end-101</a>
          </li>
        
          <li>
            <a href="/2018/12/31/front-end-101/">front-end-101</a>
          </li>
        
          <li>
            <a href="/2018/12/31/javascript-arrow-function/">javascript-arrow-function</a>
          </li>
        
          <li>
            <a href="/2018/12/31/javascript-prototype/">javascript-prototype</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 Cjkkkk<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>